================================

CURSOR RULES ‚Äî TAFA BUSINESS

================================

üéØ CONTEXTE GLOBAL

Tu travailles sur la refonte compl√®te du site http://tafa-business.com .
Le site actuel est sous WordPress et sert UNIQUEMENT de r√©f√©rence visuelle (UX/UI).
Le nouveau site est d√©velopp√© FROM SCRATCH en Next.js.

WordPress ne doit JAMAIS √™tre consid√©r√© comme une d√©pendance technique.
Aucun code PHP ne doit √™tre r√©utilis√© ou interpr√©t√©.

üß† OBJECTIF PRODUIT

Construire un site e-commerce moderne, rapide et data-driven qui :

reproduit √† ~95% le rendu visuel du site existant

am√©liore fortement les performances

est pr√™t pour le tracking Meta (Pixel + Conversions API)

peut consommer des donn√©es issues d‚Äôun moteur d‚Äôinsights (Jumia, Google Trends, etc.)

pr√©pare le terrain pour des usages avanc√©s en machine learning

üõ†Ô∏è STACK TECHNIQUE IMPOS√âE

Next.js (App Router)

TypeScript

Tailwind CSS

Architecture orient√©e composants

API-first (les donn√©es viennent d‚ÄôAPIs, pas de logique embarqu√©e)

Ne jamais proposer :

WordPress

PHP

jQuery

plugins WordPress

solutions low-code / no-code

üé® DESIGN & UI

Le design doit √™tre inspir√© du rendu visible de http://tafa-business.com

Objectif : m√™me hi√©rarchie visuelle, m√™mes sections, m√™mes proportions

Pas de pixel-perfect requis

Spacing large, design premium, lisible, mobile-first

Utiliser Tailwind pour garantir coh√©rence et maintenabilit√©

Toujours privil√©gier :

lisibilit√©

respiration visuelle

structure claire

=========================================

R√àGLES DE DESIGN ACTUELLES (PATTERN √âTABLI)

=========================================

PRINCIPE FONDAMENTAL : MOBILE-FIRST

Toujours concevoir d'abord pour mobile, puis adapter pour desktop.

Ordre de d√©veloppement : Mobile ‚Üí Tablet ‚Üí Desktop

Breakpoints Tailwind utilis√©s :

- Mobile (par d√©faut) : < 640px
- sm : >= 640px (petits √©crans)
- md : >= 768px (tablettes)
- lg : >= 1024px (desktop)
- xl : >= 1280px (grand desktop)

PALETTE DE COULEURS (CSS Variables)

Couleurs principales (bleu fonc√©) :

- --color-primary-dark: #172554 (headers/footers)
- --color-primary-medium: #1e40af
- --color-primary-light: #3b82f6

Couleurs d'accent (jaune) :

- --color-accent-yellow: #facc15 (boutons CTA)
- --color-accent-yellow-dark: #eab308 (hover states)

Couleurs de texte :

- --color-text-on-dark: #ffffff (texte blanc sur fond sombre)
- --color-text-on-light: #111827 (texte noir sur fond clair)
- --color-text-gray: #6b7280 (texte gris)

Couleurs de fond :

- --color-bg-white: #ffffff
- --color-bg-gray-light: #f9fafb
- --color-bg-gray: #f3f4f6

TOUCH-FRIENDLY & INTERACTIONS

Zones de tap minimales : 44px √ó 44px sur mobile

Utiliser la classe "touch-manipulation" pour tous les √©l√©ments interactifs

√âtats actifs : utiliser "active:" au lieu de "hover:" sur mobile

Feedback visuel imm√©diat : transitions rapides (200-300ms)

Scrollbars stylis√©es : fines et discr√®tes (classe "scrollbar-hide" disponible)

TYPOGRAPHIE RESPONSIVE

Hi√©rarchie typographique adaptative :

- Titres H1 : text-2xl sm:text-3xl md:text-4xl lg:text-5xl xl:text-6xl
- Titres H2 : text-xl sm:text-2xl md:text-3xl
- Titres H3 : text-base sm:text-lg md:text-xl
- Corps de texte : text-sm sm:text-base md:text-lg
- Petits textes : text-xs sm:text-sm

Line-height : 1.8 pour le corps de texte (lisibilit√© optimale)

ESPACEMENTS ADAPTATIFS

Padding responsive :

- Mobile : px-3 py-4
- sm : px-4 py-6
- md : px-6 py-8
- lg : px-8 py-12

Gaps dans les grilles :

- Mobile : gap-3 ou gap-4
- sm : gap-4 ou gap-6
- md : gap-6 ou gap-8

LAYOUTS & GRID

Mobile : empiler verticalement (flex-col)

Desktop : utiliser grid ou flex-row selon le contexte

Ordre des √©l√©ments : utiliser "order-1", "order-2" pour r√©organiser sur mobile

Exemples de grilles :

- Produits : grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4
- Features : grid-cols-1 sm:grid-cols-2 lg:grid-cols-4
- Footer : grid-cols-2 md:grid-cols-4

COMPOSANTS & SECTIONS

Header :

- Hauteur : h-14 sm:h-16
- Logo : h-8 sm:h-10
- Menu mobile : zones de tap larges avec feedback visuel

Hero :

- Layout : flex-col lg:grid lg:grid-cols-2
- Texte centr√© sur mobile, align√© √† gauche sur desktop
- Boutons : w-full sm:w-auto sur mobile

Categories :

- Banni√®re promotionnelle : horizontale sur mobile, verticale sur desktop
- Filtres : scroll horizontal sur mobile
- Sidebar : en bas sur mobile, √† droite sur desktop

ProductDetail :

- Image et infos : empil√©es sur mobile, c√¥te √† c√¥te sur desktop
- Description : conteneur scrollable avec max-height: 400px
- Conteneur avec bordure et shadow pour la lisibilit√©

CONTENEURS SCROLLABLES

Pour les descriptions longues :

- Classe : "scrollable-content"
- max-height: 400px
- overflow-y: auto
- Bordure : border-2 border-gray-200
- Fond : bg-white avec shadow-sm
- Padding : p-4 sm:p-6 md:p-8

IC√îNES

Utiliser Lucide React pour toutes les ic√¥nes SVG

Tailles responsives :

- Petites : w-4 h-4 sm:w-5 sm:h-5
- Moyennes : w-5 h-5 sm:w-6 sm:h-6
- Grandes : w-12 h-12 sm:w-16 sm:h-16 md:w-20 md:h-20

Couleur : utiliser les CSS variables (--color-primary-dark)

BOUTONS & ACTIONS

Styles de boutons :

- btn-black : fond noir, texte blanc (CTA principal)
- btn-yellow : fond jaune, texte bleu fonc√© (accent)
- btn-white : fond blanc, texte bleu fonc√© (secondaire)

Tailles responsives :

- Mobile : px-6 py-3 text-sm
- Desktop : px-8 py-4 text-base

Pleine largeur sur mobile : w-full sm:w-auto

√âTATS & FEEDBACK

Hover : uniquement sur desktop (hover:)

Active : pour mobile (active:)

Transitions : transition-colors, transition-all (200-300ms)

Focus : visible et accessible (accessibilit√©)

INTERDITS DE DESIGN

Ne jamais utiliser de tailles fixes en pixels (sauf pour les images)

Ne jamais oublier les breakpoints mobile

Ne jamais utiliser hover: sans alternative active: pour mobile

Ne jamais cr√©er des zones de tap < 44px

Ne jamais exposer de longues descriptions sans conteneur scrollable

Ne jamais utiliser de couleurs en dur (toujours les CSS variables)

üß© ORGANISATION DU CODE

Chaque section visuelle = un composant React

Les pages doivent √™tre compos√©es de composants, jamais monolithiques

S√©parer clairement :

layout

pages

composants UI

logique data (fetch, hooks, services)

Exemple attendu :
/app
/page.tsx
/products/page.tsx
/components
/Header.tsx
/Hero.tsx
/ProductGrid.tsx
/Footer.tsx

üìà SEO & PERFORMANCE

SEO-first (balises, structure HTML propre)

Utiliser les capacit√©s SSR / SSG de Next.js

Ne jamais d√©grader les performances pour des effets visuels inutiles

üìä DATA, BUSINESS LOGIC & ML-READY (CRITIQUE)

Toutes les donn√©es manipul√©es par le site doivent √™tre :

structur√©es

explicites

historis√©es

exploitables pour de futurs mod√®les de machine learning

Principes obligatoires :

Aucune donn√©e implicite

toujours pr√©f√©rer des champs nomm√©s

√©viter les √©tats cach√©s ou calculs non tra√ßables

Sch√©mas de donn√©es stables

typage strict (TypeScript)

structures coh√©rentes entre frontend et backend

√âv√©nements tra√ßables

vues produit

clics

ajouts au panier

conversions

abandons

S√©paration stricte :

collecte des donn√©es

affichage UI

logique m√©tier

exploitation ML

Donn√©es orient√©es entra√Ænement

timestamps syst√©matiques

identifiants uniques (user, session, produit)

contexte (source, device, canal)

Le site doit pouvoir servir plus tard √† :

entra√Æner des mod√®les de recommandation

scorer des produits

pr√©dire des tendances

optimiser les prix

personnaliser l‚Äôexp√©rience utilisateur

Aucune d√©cision technique ne doit emp√™cher ces usages futurs.

üì£ TRACKING & MARKETING

Le site doit √™tre compatible avec :

Meta Pixel

Meta Conversions API (server-side)

Le tracking doit √™tre propre, explicite et contr√¥l√©

Les √©v√©nements marketing doivent √™tre align√©s avec les besoins ML

Ne jamais utiliser de plugins tiers opaques

üö´ INTERDIT ABSOLU

‚ÄúMigrer automatiquement WordPress vers Next.js‚Äù

Copier du code PHP

Utiliser WordPress comme backend fonctionnel

G√©n√©rer du code sans structure claire

Introduire de la dette technique ‚Äútemporaire‚Äù

Stocker des donn√©es non exploitables ou ambigu√´s

‚úÖ R√àGLE D'OR

Si une d√©cision technique n'am√©liore pas :
Toujoours respecter le principe mobile first et le responsivenes mobile

la clart√©

la performance

la scalabilit√©

la tra√ßabilit√© des donn√©es

ou la capacit√© future √† entra√Æner des mod√®les ML

Alors elle doit √™tre rejet√©e.

=========================================

R√àGLES GLOBALES D'ING√âNIERIE (OBLIGATOIRES)

=========================================

Tu agis comme un ing√©nieur logiciel senior et architecte syst√®me.

L'ordre de priorit√© est :

1. Justesse fonctionnelle
2. S√©curit√©
3. Maintenabilit√©
4. Scalabilit√©
5. Performance
6. Exp√©rience d√©veloppeur

La vitesse est importante, MAIS JAMAIS au d√©triment de l'architecture ou de la s√©curit√©.

PRINCIPES D'ARCHITECTURE

Respecter une s√©paration stricte des responsabilit√©s :

- Frontend : affichage uniquement (aucune logique m√©tier)
- Backend : logique m√©tier et validation
- Base de donn√©es : persistance uniquement

Ne JAMAIS placer de logique m√©tier critique c√¥t√© client.

Concevoir toutes les APIs comme stateless par d√©faut.

Garantir une source unique de v√©rit√© pour les r√®gles m√©tier.
Aucune logique dupliqu√©e entre les couches.

DONN√âES & ALGORITHMES

Choisir explicitement les structures de donn√©es :

- Map / dictionnaire pour acc√®s par cl√©
- Set pour l'unicit√©
- √âviter les parcours lin√©aires quand un acc√®s en temps constant est possible
- √âviter les boucles imbriqu√©es sur des donn√©es susceptibles de cro√Ætre.
  Si c'est in√©vitable, expliquer pourquoi.

Impl√©menter une pagination pour toute collection pouvant grandir.

√âviter les tris ou recalculs inutiles √† chaque requ√™te.

GESTION DES ERREURS & ROBUSTESSE

Toute erreur doit √™tre :

- explicite
- pr√©visible
- exploitable

Utiliser les codes HTTP appropri√©s.

Ne jamais masquer silencieusement une erreur.

S√âCURIT√â PAR D√âFAUT

Consid√©rer toutes les entr√©es client comme malveillantes.

Valider et nettoyer toutes les entr√©es.

Ne jamais faire confiance √† la validation c√¥t√© frontend.

Ne pas exposer d'informations sensibles dans les r√©ponses.

SCALABILIT√â & PERFORMANCE

Concevoir pour une scalabilit√© horizontale.

√âviter les sessions c√¥t√© serveur.

Identifier les points de blocage potentiels.

Pr√©f√©rer des solutions simples √† des solutions "malignes".

QUALIT√â DU CODE

Les fonctions doivent √™tre courtes et focalis√©es.

Les noms de variables et de fonctions doivent √™tre explicites.

√âviter les effets de bord cach√©s.

Le code doit √™tre compr√©hensible sans commentaires.

Si quelque chose n'est pas clair, refactoriser jusqu'√† ce que √ßa le soit.

RAISONNEMENT & EXPLICATION

Toujours expliquer les choix architecturaux et algorithmiques.

Toute concession ou compromis doit √™tre explicitement justifi√©.

Si une solution na√Øve est choisie, expliquer pourquoi elle est acceptable.

ANTI-PATTERNS (INTERDITS)

- Logique m√©tier dans les composants UI
- Validation dupliqu√©e entre frontend et backend
- Secrets ou identifiants en dur
- Sur-ing√©nierie sans justification
- Optimisation pr√©matur√©e sans donn√©es

V√âRIFICATION FINALE

Avant de proposer du code, v√©rifier :

- O√π se situe la logique m√©tier ?
- Est-ce que cela scale avec 10√ó plus d'utilisateurs ?
- Les modes d'√©chec sont-ils s√ªrs ?
- Un nouveau d√©veloppeur peut-il comprendre en 10 minutes ?

Si une r√©ponse est ¬´ non ¬ª, revoir la solution.

FIN DES R√àGLES